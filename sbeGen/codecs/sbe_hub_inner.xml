<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sbe:messageSchema xmlns:sbe="http://fixprotocol.io/2016/sbe"
		   xmlns:xi="http://www.w3.org/2001/XInclude"
                   package="digital.exchange.sbe.hub.inner"
                   id="103"
                   version="1"
                   semanticVersion="1"
                   description="Message Codecs for ME output events">
                   
    <xi:include href="common_types.xml"/>
    
    <types>
        <enum name="SignalEnum" encodingType="int32">
            <validValue name="CONNECT">0</validValue>
            <validValue name="DISCONNECT">1</validValue>
            <validValue name="DO_WORK">2</validValue>
        </enum>
    </types>
    
    <sbe:message name="SignalEnumFromHubNode"
                 id="1"
                 description="Signal From Hub Node">
        <field name="hubServiceIdMask" id="1" type="int32"/>
        <field name="position" id="4" type="int64"/>
        <field name="signal" id="3" type="SignalEnum"/>
    </sbe:message>
    
    <sbe:message name="PositionUpdate"
                 id="2"
                 description="Service Position">
        <field name="hubServiceId" id="1" type="int32"/>
	<field name="position" id="2" type="int64"/>
    </sbe:message>
    
    <sbe:message name="MeMessage"
                 id="3"
                 description="Me Egress Message">
        <field name="hubServiceId" id="1" type="int32"/>
	<field name="position" id="2" type="int64"/>
	<data name="messageBytes" id="3" type="varDataEncoding"/>
    </sbe:message>

</sbe:messageSchema>
